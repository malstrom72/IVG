FORMAT IVG-2 requires:IMPD-1
BOUNDS 0,0,800,800

define image enbild [
	bounds 0,0,200,100
	mask [ ellipse 100,50,29.5 ] inverted:yes
	fill pattern:[
		bounds 0,0,20,20
		wipe #C08030
		fill yellow
		rect 0,0,18,18
	]
	pen red
	rect 80,10,80,80
	ellipse 100,50,30
] resolution:2

define image enannanbild [
	bounds 0,0,100,100
	wipe gradient:[linear 0,0,100,100 from:black to:green]
	fill gradient:[radial 0.5,0.5,0.5 from:white to:silver] relative:yes
	ellipse 50,50,30
] resolution:3

prng_x = 1;
prng = call [ prng_x = {$prng_x * 279470273 % 4294967291}; return $0 = {$prng_x / 4294967291} ]

drawStuff = [
	for i from:0 to:100 [
		$prng x
		$prng y
		$prng r
		$prng s
		image {$x * 800},{$y * 800} "enbild" transform:[rotate {$r * 360}; scale {2*$s}] align:"middle center" opacity:0.8
	]
]

$drawStuff
mask [ ellipse 400,400,390 ]
wipe black
$drawStuff

context [
	scale 3
	rotate 33
	image 100,10 "enannanbild" opacity:0.7 align:"middle center" transform:[rotate 30]
]

image 400,400 enannanbild align:"middle center" width:-150 stretch:no transform:[rotate 30]

image 600,200 enannanbild align:"top left" transform:[scale 2] clip:[25,25,50,50]
image 600,300 enannanbild align:"top left" transform:[scale 2] clip:[50 25 50 50]
image 600,400 enannanbild align:"top left" transform:[scale 2] clip:75,25,50,50
image 600,500 enannanbild align:"top left" width:100 height:50 stretch:yes clip:[75,25,25,25]
image 600,550 enannanbild align:"top left" width:100 height:50 stretch:yes clip:[-10,-10,50,50]
